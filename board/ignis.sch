EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:ugw
LIBS:ignis-cache
EELAYER 25 0
EELAYER END
$Descr USLedger 17000 11000
encoding utf-8
Sheet 1 1
Title "Ignis Interface Board"
Date "2016-07-12"
Rev "Draft"
Comp "U.G. Wilson"
Comment1 "https://creativecommons.org/licenses/by-sa/4.0/"
Comment2 "Creative Commons Attribution-ShareAlike 4.0 International"
Comment3 "Copyright 2016 U.G. Wilson"
Comment4 ""
$EndDescr
$Comp
L TRIAC U?
U 1 1 5784795A
P 9800 4800
F 0 "U?" H 9550 5150 50  0000 C CNN
F 1 "TRIAC" H 9500 4550 50  0000 C CNN
F 2 "" H 9800 4800 50  0000 C CNN
F 3 "" H 9800 4800 50  0000 C CNN
	1    9800 4800
	1    0    0    -1  
$EndComp
$Comp
L FUSE F?
U 1 1 57847A46
P 9350 5250
F 0 "F?" H 9450 5300 50  0000 C CNN
F 1 "FUSE" H 9250 5200 50  0000 C CNN
F 2 "" H 9350 5250 50  0000 C CNN
F 3 "" H 9350 5250 50  0000 C CNN
	1    9350 5250
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 5250 9800 5250
Wire Wire Line
	9800 5250 9800 5050
$Comp
L PIC18F13K22 U1
U 1 1 578481D8
P 4650 3850
F 0 "U1" H 5400 5000 60  0000 C CNN
F 1 "PIC18F13K22" H 3950 5000 60  0000 C CNN
F 2 "" H 3850 5000 60  0000 C CNN
F 3 "" H 3850 5000 60  0000 C CNN
	1    4650 3850
	1    0    0    -1  
$EndComp
Text Notes 5950 1250 0    60   ~ 0
INT0 is used to start current delay at zero point crossing.\nThis is accomplished using a opto-isolator with AC input\n capability like an IL250, FODM2705, or PS2815.  Preferably\n the latter two in order to avoid usless pins and through hole.\n\nThere is some claim that you can't use the interrupt to trigger\nwith the zero cross, but I think it's bullshit.
$Comp
L C_Small C1
U 1 1 5784858A
P 1000 3050
F 0 "C1" H 1010 3120 50  0000 L CNN
F 1 "0.1 uF" H 1010 2970 50  0000 L CNN
F 2 "" H 1000 3050 50  0000 C CNN
F 3 "" H 1000 3050 50  0000 C CNN
	1    1000 3050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 57848665
P 5600 2500
F 0 "#PWR?" H 5600 2250 50  0001 C CNN
F 1 "GND" H 5600 2350 50  0000 C CNN
F 2 "" H 5600 2500 50  0000 C CNN
F 3 "" H 5600 2500 50  0000 C CNN
	1    5600 2500
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 57848723
P 1000 2750
F 0 "#PWR?" H 1000 2600 50  0001 C CNN
F 1 "+5V" H 1000 2890 50  0000 C CNN
F 2 "" H 1000 2750 50  0000 C CNN
F 3 "" H 1000 2750 50  0000 C CNN
	1    1000 2750
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X06 P?
U 1 1 578B2BE4
P 7250 4300
F 0 "P?" H 7250 4650 50  0000 C CNN
F 1 "FTDI" V 7350 4300 50  0000 C CNN
F 2 "" H 7250 4300 50  0000 C CNN
F 3 "" H 7250 4300 50  0000 C CNN
	1    7250 4300
	1    0    0    1   
$EndComp
$Comp
L GND #PWR?
U 1 1 578B2C62
P 6950 4650
F 0 "#PWR?" H 6950 4400 50  0001 C CNN
F 1 "GND" H 6950 4500 50  0000 C CNN
F 2 "" H 6950 4650 50  0000 C CNN
F 3 "" H 6950 4650 50  0000 C CNN
	1    6950 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	6950 4650 6950 4550
Wire Wire Line
	6950 4550 7050 4550
$Comp
L +5V #PWR?
U 1 1 578B2D1E
P 6950 3950
F 0 "#PWR?" H 6950 3800 50  0001 C CNN
F 1 "+5V" H 6950 4090 50  0000 C CNN
F 2 "" H 6950 3950 50  0000 C CNN
F 3 "" H 6950 3950 50  0000 C CNN
	1    6950 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6950 3950 6950 4350
Wire Wire Line
	6950 4350 7050 4350
Wire Wire Line
	3350 4250 7050 4250
Wire Wire Line
	5900 4150 7050 4150
$Comp
L CONN_01X06 P?
U 1 1 578B2EE4
P 2200 1700
F 0 "P?" H 2200 2050 50  0000 C CNN
F 1 "PROG" V 2300 1700 50  0000 C CNN
F 2 "" H 2200 1700 50  0000 C CNN
F 3 "" H 2200 1700 50  0000 C CNN
	1    2200 1700
	-1   0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 578B302B
P 2500 1350
F 0 "#PWR?" H 2500 1200 50  0001 C CNN
F 1 "+5V" H 2500 1490 50  0000 C CNN
F 2 "" H 2500 1350 50  0000 C CNN
F 3 "" H 2500 1350 50  0000 C CNN
	1    2500 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	5800 2850 5700 2850
Wire Wire Line
	5800 2400 5800 2850
Wire Wire Line
	5800 2400 5600 2400
Wire Wire Line
	5600 2400 5600 2500
$Comp
L GND #PWR?
U 1 1 578B36FD
P 1000 3250
F 0 "#PWR?" H 1000 3000 50  0001 C CNN
F 1 "GND" H 1000 3100 50  0000 C CNN
F 2 "" H 1000 3250 50  0000 C CNN
F 3 "" H 1000 3250 50  0000 C CNN
	1    1000 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 1550 2500 1550
Wire Wire Line
	2500 1550 2500 1350
Wire Wire Line
	3450 3150 3050 3150
Wire Wire Line
	3050 3150 3050 1450
Wire Wire Line
	3050 1450 2400 1450
$Comp
L GND #PWR?
U 1 1 578B3886
P 2500 2050
F 0 "#PWR?" H 2500 1800 50  0001 C CNN
F 1 "GND" H 2500 1900 50  0000 C CNN
F 2 "" H 2500 2050 50  0000 C CNN
F 3 "" H 2500 2050 50  0000 C CNN
	1    2500 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 1650 2500 1650
Wire Wire Line
	2500 1650 2500 2050
Wire Wire Line
	2400 1750 5900 1750
Wire Wire Line
	5900 1750 5900 2950
Wire Wire Line
	5900 2950 5700 2950
Wire Wire Line
	5700 3050 7350 3050
Wire Wire Line
	6000 3050 6000 1850
Wire Wire Line
	6000 1850 2400 1850
Wire Wire Line
	2400 1950 2850 1950
Wire Wire Line
	2850 1950 2850 3450
Wire Wire Line
	2850 3450 3450 3450
Wire Wire Line
	5700 3650 5900 3650
Wire Wire Line
	5900 3650 5900 4150
Wire Wire Line
	3350 4250 3350 3750
Wire Wire Line
	3350 3750 3450 3750
Wire Wire Line
	3450 3350 3050 3350
Wire Wire Line
	3050 3350 3050 4450
Wire Wire Line
	3450 3250 2950 3250
Wire Wire Line
	2950 3250 2950 4050
Wire Wire Line
	2950 4050 7050 4050
Wire Wire Line
	3050 4450 7050 4450
$Comp
L CONN_01X02 P?
U 1 1 578B3DD6
P 6950 3600
F 0 "P?" H 6950 3750 50  0000 C CNN
F 1 "TYPE R" V 7050 3600 50  0000 C CNN
F 2 "" H 6950 3600 50  0000 C CNN
F 3 "" H 6950 3600 50  0000 C CNN
	1    6950 3600
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X02 P?
U 1 1 578B3F57
P 7550 3100
F 0 "P?" H 7550 3250 50  0000 C CNN
F 1 "DOOR" V 7650 3100 50  0000 C CNN
F 2 "" H 7550 3100 50  0000 C CNN
F 3 "" H 7550 3100 50  0000 C CNN
	1    7550 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 2850 1000 2850
Wire Wire Line
	1000 2750 1000 2950
Connection ~ 1000 2850
Wire Wire Line
	1000 3250 1000 3150
Wire Wire Line
	6750 3550 5700 3550
$Comp
L GND #PWR?
U 1 1 578B4D1D
P 6650 3750
F 0 "#PWR?" H 6650 3500 50  0001 C CNN
F 1 "GND" H 6650 3600 50  0000 C CNN
F 2 "" H 6650 3750 50  0000 C CNN
F 3 "" H 6650 3750 50  0000 C CNN
	1    6650 3750
	1    0    0    -1  
$EndComp
Wire Wire Line
	6650 3750 6650 3650
Wire Wire Line
	6650 3650 6750 3650
$Comp
L R_Small R?
U 1 1 578B4EAD
P 7250 2850
F 0 "R?" H 7280 2870 50  0000 L CNN
F 1 "10K" H 7280 2810 50  0000 L CNN
F 2 "" H 7250 2850 50  0000 C CNN
F 3 "" H 7250 2850 50  0000 C CNN
	1    7250 2850
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 578B4F2D
P 7250 2650
F 0 "#PWR?" H 7250 2500 50  0001 C CNN
F 1 "+5V" H 7250 2790 50  0000 C CNN
F 2 "" H 7250 2650 50  0000 C CNN
F 3 "" H 7250 2650 50  0000 C CNN
	1    7250 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 2650 7250 2750
$Comp
L GND #PWR?
U 1 1 578B4F8E
P 7250 3250
F 0 "#PWR?" H 7250 3000 50  0001 C CNN
F 1 "GND" H 7250 3100 50  0000 C CNN
F 2 "" H 7250 3250 50  0000 C CNN
F 3 "" H 7250 3250 50  0000 C CNN
	1    7250 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 2950 7250 3050
Connection ~ 7250 3050
Wire Wire Line
	7250 3250 7250 3150
Wire Wire Line
	7250 3150 7350 3150
$Comp
L CONN_01X02 P?
U 1 1 578B543E
P 10000 3750
F 0 "P?" H 10000 3900 50  0000 C CNN
F 1 "SAFETY" V 10100 3750 50  0000 C CNN
F 2 "" H 10000 3750 50  0000 C CNN
F 3 "" H 10000 3750 50  0000 C CNN
	1    10000 3750
	1    0    0    -1  
$EndComp
Connection ~ 6000 3050
$Comp
L CONN_01X02 P?
U 1 1 578F160B
P 9800 1700
F 0 "P?" H 9800 1850 50  0000 C CNN
F 1 "AC IN" V 9900 1700 50  0000 C CNN
F 2 "" H 9800 1700 50  0000 C CNN
F 3 "" H 9800 1700 50  0000 C CNN
	1    9800 1700
	0    -1   -1   0   
$EndComp
$Comp
L PS2815-1 U2
U 1 1 578F1611
P 8550 2150
F 0 "U2" H 8200 1900 60  0000 C CNN
F 1 "PS2815-1" H 8700 1900 60  0000 C CNN
F 2 "ugw:PS2815-1" H 8600 1900 60  0001 C CNN
F 3 "PS2815-1" H 8700 1900 60  0000 C CNN
	1    8550 2150
	-1   0    0    1   
$EndComp
$Comp
L R_Small R1
U 1 1 578F1617
P 9500 2200
F 0 "R1" H 9530 2220 50  0000 L CNN
F 1 "22K" H 9530 2160 50  0000 L CNN
F 2 "" H 9500 2200 50  0000 C CNN
F 3 "" H 9500 2200 50  0000 C CNN
	1    9500 2200
	0    1    1    0   
$EndComp
$Comp
L R_Small R2
U 1 1 578F161D
P 9500 2050
F 0 "R2" H 9530 2070 50  0000 L CNN
F 1 "22K" H 9530 2010 50  0000 L CNN
F 2 "" H 9500 2050 50  0000 C CNN
F 3 "" H 9500 2050 50  0000 C CNN
	1    9500 2050
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 578F1629
P 7850 2600
F 0 "#PWR?" H 7850 2350 50  0001 C CNN
F 1 "GND" H 7850 2450 50  0000 C CNN
F 2 "" H 7850 2600 50  0000 C CNN
F 3 "" H 7850 2600 50  0000 C CNN
	1    7850 2600
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 578F1631
P 7850 1850
F 0 "#PWR?" H 7850 1700 50  0001 C CNN
F 1 "+5V" H 7850 1990 50  0000 C CNN
F 2 "" H 7850 1850 50  0000 C CNN
F 3 "" H 7850 1850 50  0000 C CNN
	1    7850 1850
	1    0    0    -1  
$EndComp
$Comp
L MOC3020M U?
U 1 1 57903F69
P 5350 5800
F 0 "U?" H 5140 5990 50  0000 L CNN
F 1 "MOC3020M" H 5350 6000 50  0000 L CNN
F 2 "DIP-6" H 5150 5600 50  0000 L CIN
F 3 "" H 5325 5800 50  0000 L CNN
	1    5350 5800
	1    0    0    -1  
$EndComp
$Comp
L R_Small R?
U 1 1 578F1637
P 7850 2400
F 0 "R?" H 7880 2420 50  0000 L CNN
F 1 "10K" H 7880 2360 50  0000 L CNN
F 2 "" H 7850 2400 50  0000 C CNN
F 3 "" H 7850 2400 50  0000 C CNN
	1    7850 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	9150 2050 9400 2050
Wire Wire Line
	9400 2200 9150 2200
Wire Wire Line
	9750 1900 9750 2050
Wire Wire Line
	9750 2050 9600 2050
Wire Wire Line
	9850 1900 9850 2200
Wire Wire Line
	9850 2200 9600 2200
Wire Wire Line
	5900 2200 7950 2200
Wire Wire Line
	7850 2200 7850 2300
Wire Wire Line
	7850 2600 7850 2500
Wire Wire Line
	7850 1850 7850 2050
Connection ~ 5900 2200
Connection ~ 7850 2200
Wire Wire Line
	7850 2050 7950 2050
Text Notes 8100 2650 0    60   ~ 0
AC Zero-Cross Detection Circuit\n\nThis circuit will spike low on zero-cross.
$EndSCHEMATC
